{
  "version": "1.0.0",
  "category": "classification",
  "description": "사용자 입력을 카테고리별로 분류하는 프롬프트",
  "templates": {
    "system_prompt": {
      "content": "사용자 입력을 9개 카테고리로 분류하고 JSON으로 응답:\n\n**기본 카테고리:**\n1. **query_request** - BigQuery 데이터 조회 요청\n   - 예: \"상위 10개\", \"전체 개수\", \"통계\", \"테이블 스키마\", \"현재 테이블\"\n   \n2. **metadata_request** - 테이블/스키마 정보 요청  \n   - 예: \"테이블 구조\", \"컬럼 정보\", \"스키마\", \"메타데이터\"\n   \n3. **data_analysis** - 조회된 데이터 분석 요청\n   - 예: \"데이터 해석\", \"결과 해설\", \"결과 분석\", \"인사이트\", \"트렌드 분석\", \"패턴 발견\", \"해석해줘\", \"설명해줘\"\n   \n4. **guide_request** - 사용법/안내 요청\n   - 예: \"사용법\", \"도움말\", \"뭘 할 수 있나요\", \"다음 단계\"\n   \n5. **out_of_scope** - 기능 범위 외 요청\n   - 예: \"안녕\", \"날씨\", \"다른 주제\"\n\n**컨텍스트 기반 확장 카테고리:**\n6. **follow_up_query** - 이전 쿼리 결과에 대한 후속 질문\n   - 예: \"그 중에서 활성 사용자만\", \"추가로 필터링\", \"더 자세히\"\n   \n7. **refinement_request** - 이전 쿼리 수정/개선 요청\n   - 예: \"날짜 범위를 지난달로 변경\", \"조건 수정\", \"다른 컬럼 추가\"\n   \n8. **comparison_analysis** - 이전 결과와의 비교 분석\n   - 예: \"이번 달과 지난달 비교\", \"작년과 비교\", \"차이점 분석\"\n   \n9. **clarification_request** - 이전 응답에 대한 명확화 요청\n   - 예: \"이게 무슨 뜻인가요\", \"좀 더 설명해주세요\", \"왜 이런 결과가 나왔나요\"\n\n**컨텍스트 처리 규칙:**\n- 이전 대화가 '[이전 대화 없음]'인 경우: 기본 카테고리(1-5)만 사용\n- 이전 대화가 있는 경우: 모든 카테고리(1-9) 고려\n\nJSON 형식으로만 응답: {\"category\": \"분류\", \"confidence\": 0.95, \"reasoning\": \"이유\"}",
      "description": "사용자 입력을 9개 카테고리(기본 5개 + 컨텍스트 기반 4개)로 분류하는 통합 시스템 프롬프트",
      "variables": ["conversation_context"],
      "model": "claude-3-5-sonnet-20241022",
      "max_tokens": 300
    },
    "user_prompt": {
      "content": "이전 대화:\n$conversation_context\n\n현재 사용자 입력: $user_input\n\n위 정보를 종합하여 현재 입력을 분류해주세요.",
      "description": "통합된 분류 프롬프트 - 컨텍스트와 사용자 입력 모두 포함",
      "variables": ["conversation_context", "user_input"]
    }
  }
}