<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple BigQuery Assistant</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <div class="app-container">
        <header class="app-header">
            <h1>Simple BigQuery Assistant</h1>
            <p>자연어로 BigQuery를 조회하세요</p>
        </header>

        <main class="conversation-container">
            <div id="conversationArea" class="conversation-area">
                <div class="welcome-message">
                    <div class="message-label">Assistant</div>
                    <div class="message-content">
                        <div class="service-intro">
                            <p>BigQuery AI Assistant에 오신 것을 환영합니다. 📊 자연어를 통해 데이터베이스를 조회하고 분석할 수 있습니다.</p>
                            
                            <div class="feature-cards">
                                <div class="feature-card">
                                    <div class="feature-icon">💬</div>
                                    <h4>자연어 SQL 변환</h4>
                                    <p>일상 언어로 질문하면 자동으로 최적화된 BigQuery SQL을 생성합니다</p>
                                </div>
                                
                                <div class="feature-card">
                                    <div class="feature-icon">🔍</div>
                                    <h4>실시간 데이터 조회</h4>
                                    <p>테이블 메타데이터부터 복합 통계까지 즉시 조회 가능합니다</p>
                                </div>
                                
                                <div class="feature-card">
                                    <div class="feature-icon">🤖</div>
                                    <h4>AI 기반 분석</h4>
                                    <p>조회 결과에 대한 인사이트와 해석을 자동으로 제공합니다</p>
                                </div>
                                
                                <div class="feature-card">
                                    <div class="feature-icon">💡</div>
                                    <h4>인텔리전트 가이드</h4>
                                    <p>상황에 맞는 다음 분석 단계와 질문을 추천해드립니다</p>
                                </div>
                            </div>
                        </div>

                        <div class="data-intro">
                            <h3>🗃️ 데이터소스 정보</h3>
                            
                            <div class="table-info-card">
                                <div class="table-header">
                                    <h4>Events 데이터테이블</h4>
                                    <span class="table-badge">2021-01-31 스냅샷</span>
                                </div>
                                
                                <div class="table-description">
                                    <p>사용자 이벤트 로그 데이터를 포함하고 있으며, 웹 애플리케이션에서 발생한 다양한 사용자 행동을 추적합니다.</p>
                                </div>
                                
                                <div class="table-stats">
                                    <div class="stat-item">
                                        <span class="stat-label">테이블 ID</span>
                                        <span class="stat-value">nlq-ex.test_dataset.events_20210131</span>
                                    </div>
                                    <div class="stat-item">
                                        <span class="stat-label">데이터 범위</span>
                                        <span class="stat-value">사용자 활동 및 이벤트 로그</span>
                                    </div>
                                </div>
                                
                                <div class="columns-preview">
                                    <h5>주요 데이터 필드</h5>
                                    <div class="column-tags">
                                        <span class="column-tag">user_id</span>
                                        <span class="column-tag">event_timestamp</span>
                                        <span class="column-tag">event_name</span>
                                        <span class="column-tag">category</span>
                                        <span class="column-tag">properties</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="use-cases">
                            <h4>💡 활용 가능한 분석 시나리오</h4>
                            
                            <div class="use-case-categories">
                                <div class="use-case-category">
                                    <h5>📈 기본 집계 분석</h5>
                                    <ul class="example-list">
                                        <li>"전체 이벤트 수를 확인해주세요"</li>
                                        <li>"가장 빈번한 이벤트 유형은 무엇인가요"</li>
                                        <li>"카테고리별 분포를 보여주세요"</li>
                                    </ul>
                                </div>
                                
                                <div class="use-case-category">
                                    <h5>📅 시계열 분석</h5>
                                    <ul class="example-list">
                                        <li>"시간대별 사용자 활동 패턴을 분석해주세요"</li>
                                        <li>"최고 트래픽 시간대는 언제인가요"</li>
                                        <li>"일자별 이벤트 트렌드를 보여주세요"</li>
                                    </ul>
                                </div>
                                
                                <div class="use-case-category">
                                    <h5>🔍 상세 조회</h5>
                                    <ul class="example-list">
                                        <li>"특정 사용자의 이벤트 히스토리를 조회해주세요"</li>
                                        <li>"최근 100건의 이벤트를 확인해주세요"</li>
                                        <li>"특정 조건의 이벤트를 필터링해주세요"</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        
                        <div class="sample-questions">
                            <p class="sample-title">💡 빠른 시작 질문:</p>
                            <div class="question-buttons" id="sampleButtons">
                                <button class="question-btn">📊 상위 10개 레코드를 조회해주세요</button>
                                <button class="question-btn">📝 테이블의 전체 행 수를 확인해주세요</button>
                                <button class="question-btn">🏗️ 테이블 스키마 정보를 보여주세요</button>
                                <button class="question-btn">⏰ 가장 최근 이벤트 시간을 알려주세요</button>
                                <button class="question-btn">📈 시간대별 이벤트 분포를 분석해주세요</button>
                                <button class="question-btn">🏆 상위 카테고리 순위를 보여주세요</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <div class="input-container">
            <form id="queryForm" class="input-form">
                <div class="input-wrapper">
                    <textarea 
                        id="messageInput" 
                        placeholder="메시지를 입력하세요..." 
                        rows="1"
                        required></textarea>
                    <button type="submit" id="sendButton" class="send-button">
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                            <path d="M8 0L16 8L8 16L7 15L13 9H0V7H13L7 1L8 0Z"/>
                        </svg>
                    </button>
                </div>
            </form>
        </div>
    </div>

    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
</body>
</html>