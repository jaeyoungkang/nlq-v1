{
  "version": "1.0.0",
  "category": "data_analysis",
  "description": "조회된 데이터에 대한 분석을 생성하는 프롬프트",
  "templates": {
    "system_prompt": {
      "content": "당신은 데이터 분석 전문가입니다. BigQuery 조회 결과를 분석하여 비즈니스 인사이트를 제공해주세요.\n\n## 컨텍스트 처리 규칙\n- 이전 대화가 '[이전 대화 없음]'인 경우: 독립적인 새 분석 수행\n- 이전 대화가 있는 경우: 이전 분석과의 연관성, 트렌드 변화, 비교 분석 고려\n\n## 분석 원칙\n1. **명확성** - 데이터의 주요 특징을 명확히 설명\n2. **실용성** - 비즈니스적 가치가 있는 인사이트 제공\n3. **간결성** - 핵심 포인트 중심의 간결한 분석\n4. **제안** - 추가 분석 방향 제시\n\n전문적이고 실용적인 분석을 제공해주세요.",
      "description": "데이터 분석 통합 시스템 프롬프트",
      "variables": ["conversation_context"],
      "model": "claude-3-5-sonnet-20241022",
      "max_tokens": 1200
    },
    "user_prompt": {
      "content": "이전 대화:\n$conversation_context\n\n현재 데이터:\n$data_context\n\n사용자 질문: $question\n\n위 정보를 종합하여 데이터 분석을 수행해주세요.",
      "description": "데이터 분석 통합 사용자 프롬프트",
      "variables": ["conversation_context", "data_context", "question"],
      "model": "claude-3-5-sonnet-20241022",
      "max_tokens": 1200
    },
    "analyze_data": {
      "content": "다음 BigQuery 데이터를 분석해주세요.\n\n$data_context\n\n사용자 질문: $question\n\n다음 관점에서 간결하게 분석해주세요:\n1. **주요 데이터 특징** (2-3개)\n2. **핵심 인사이트** (1-2개)  \n3. **추가 분석 제안** (1-2개)\n\n비즈니스적 관점에서 실용적으로 답변해주세요.",
      "description": "데이터 분석 메인 프롬프트",
      "variables": ["data_context", "question"],
      "model": "claude-3-5-sonnet-20241022",
      "max_tokens": 1200
    },
    "data_context_template": {
      "content": "\n최근 실행된 SQL:\n```sql\n$previous_sql\n```\n\n조회 결과 샘플:\n```json\n$data_sample\n```\n\n총 $total_rows개 행이 조회되었습니다.",
      "description": "데이터 컨텍스트 생성 템플릿",
      "variables": ["previous_sql", "data_sample", "total_rows"]
    },
    "metadata_response": {
      "content": "BigQuery 테이블 메타데이터를 사용자 친화적으로 설명해주세요.\n\n테이블 정보:\n- 테이블 ID: $table_id\n- 행 수: $row_count\n- 크기: $size_mb MB  \n- 생성일: $created_date\n\n스키마 (주요 컬럼):\n$schema_text\n\n사용자 질문: $question\n\n간결하고 이해하기 쉽게 답변해주세요. 필요시 활용 예시도 포함하세요.",
      "description": "테이블 메타데이터 설명 프롬프트",
      "variables": ["table_id", "row_count", "size_mb", "created_date", "schema_text", "question"],
      "model": "claude-3-5-sonnet-20241022",
      "max_tokens": 800
    },
    "analyze_data_with_context": {
      "content": "이전 분석 결과를 고려하여 심화 분석을 수행해주세요.\n\n## 이전 분석 참고\n$previous_analysis\n\n## 현재 데이터 분석\n$data_context\n\n사용자 질문: $question\n\n## 분석 관점\n1. **연속성 분석** - 이전 결과와의 연관성 및 변화 추이\n2. **비교 분석** - 이전 데이터와의 차이점 및 유사점\n3. **심화 인사이트** - 누적된 분석을 통한 새로운 발견\n4. **추가 분석 제안** - 연속 분석 가능한 항목들\n\n비즈니스적 관점에서 연관성과 차이점을 중심으로 분석해주세요.",
      "description": "이전 분석을 고려한 심화 분석 프롬프트",
      "variables": ["previous_analysis", "data_context", "question"],
      "model": "claude-3-5-sonnet-20241022",
      "max_tokens": 1200
    },
    "legacy_system_prompt_with_context": {
      "content": "[DEPRECATED] 당신은 데이터 분석 전문가입니다. 이전 분석 결과를 참고하여 연속성과 일관성 있는 분석을 제공해주세요.",
      "description": "[DEPRECATED] 컨텍스트를 고려한 데이터 분석 시스템 프롬프트 - 통합 프롬프트로 대체됨",
      "variables": ["previous_analysis"],
      "model": "claude-3-5-sonnet-20241022",
      "max_tokens": 1200
    },
    "legacy_user_prompt_with_context": {
      "content": "[DEPRECATED] 이전 대화:\n$conversation_context\n\n현재 데이터:\n$data_context\n\n사용자 질문: $question",
      "description": "[DEPRECATED] 컨텍스트를 포함한 데이터 분석 사용자 프롬프트 - 통합 프롬프트로 대체됨",
      "variables": ["conversation_context", "data_context", "question"],
      "model": "claude-3-5-sonnet-20241022",
      "max_tokens": 1200
    }
  }
}