### **작업 요약: LLM 프롬프트 아키텍처 단순화 및 레거시 코드 정리**

#### 🎯 **작업 목표**
-   `llm_client.py`와 연관된 프롬프트 파일들(`sql_generation.json`, `data_analysis.json`)의 구조를 단순화하여 코드 가독성과 유지보수성을 향상시킵니다컨텍스트_통합_프롬프팅_구현_완료.md].
-   컨텍스트 유무에 따라 분기되던 로직을 통합하고, 더 이상 사용되지 않는 레거시 프롬프트 템플릿을 제거합니다.

---

### **주요 변경 사항**

#### **1. 프롬프트 템플릿 파일 정리 (`sql_generation.json`, `data_analysis.json`)**

-   **템플릿 최소화**: 각 `.json` 파일에서 `system_prompt`와 `user_prompt` 두 개의 핵심 템플릿만 남기고, 나머지 보조 및 레거시 템플릿을 모두 제거했습니다컨텍스트_통합_프롬프팅_구현_완료.md].
-   **역할 명확화**:
    -   `system_prompt`: AI의 역할, 기본 규칙, 데이터 스키마 등 **정적인 정보**를 통합하여 제공합니다.
    -   `user_prompt`: 이전 대화 기록(`$conversation_context`), 현재 질문 등 매번 변경되는 **동적인 정보**만 전달하도록 단순화했습니다.
-   **변수 정리**: 동적 정보인 `$conversation_context` 변수는 `user_prompt`에만 남겨 역할 분리를 명확히 했습니다.

#### **2. `llm_client.py` 코드 리팩토링**

-   **레거시 메서드 제거**: 호환성을 위해 남겨두었던 `_execute_with_context` 메서드를 완전히 삭제했습니다.
-   **호출 구조 단순화**: `classify_input`, `generate_sql`, `analyze_data` 메서드가 이제 `_execute_unified_prompting` 통합 메서드를 직접 호출하도록 구조를 간결하게 변경했습니다.
-   **헬퍼 함수 제거**: 프롬프트 파일이 단순화됨에 따라, `_create_dataset_info`와 같이 프롬프트 문자열을 동적으로 조립하던 헬퍼 함수들을 제거했습니다.

---

### ✅ **기대 효과**

-   **가독성 향상**: 프롬프트의 역할과 코드의 흐름이 명확해져 코드를 이해하기 쉬워졌습니다.
-   **유지보수 용이성**: 프롬프트 수정 시 `.json` 파일만 변경하면 되므로 유지보수 비용이 감소합니다.
-   **안정성 및 일관성**: 모든 LLM 호출이 단일화된 경로(`_execute_unified_prompting`)를 통해 처리되므로, 동작의 일관성과 안정성이 향상되었습니다.